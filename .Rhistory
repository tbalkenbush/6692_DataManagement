ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
rlang::last_error()
plot <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Stratification Days") +
ylab("Mean Seeds Germinated (count)")
xcoords <- vector()
position <- 0
for (i in unique(summary$PopID)) {
position <- position + 1
subset <- summary %>% filter(PopID == i)
xcoords[position] <- max(subset$StratDays)
}
labels <-
plot1 <- plot1 + labels
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
# Make a plot theme
plot_theme <- theme_minimal() +
#GOOGLE: "R ggplot how to move axis title label away from plot"
theme(axis.title.y = element_text(margin = margin(t = 0, r = 10, b = 0, l = 0))) + # Move the axis title away from the plot
theme(axis.title.x = element_text(margin = margin(t = 10, r = 0, b = 0, l = 0))) +
#GOOGLE: "R ggplot remove grid lines"
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black")) +
#GOOGEL: "R ggplot increase text size"
theme(axis.text = element_text(size = 14)) +
theme(axis.title = element_text(size = 16)) +
theme(plot.title = element_text(size = 20)) +
theme(plot.subtitle = element_text(size = 16))
panel_plot <- ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
panel_plot <- ggarrange(plot1,
ncol = 1,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
panel_plot <- ggarrange(plot2,
ncol = 1,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Stratification Days") +
ylab("Mean Seeds Germinated (count)")
panel_plot <- ggarrange(plot1, plot2,
ncol = 1,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
panel_plot
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
panel_plot <- ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'bottom')
panel_plot
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = 'right')
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = "right")
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
theme(legend.position = "none")
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = "bottom")
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
theme_bw() +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)")
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
theme_bw() +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
panel_plot <- ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = "bottom")
panel_plot
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
theme(legend.position = "none") +
plot_theme
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
trtmean <- sum %>% group_by(StratDays) %>% summarise(mean = mean(totalgerm),
n = n(),
se = std.error(totalgerm))
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
theme_bw() +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE,
legend = "bottom")
ggarrange(plot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
plot1
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
theme(legend.position = "none") +
plot_theme
plot_theme
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
theme(legend.position = "none") +
plot_theme
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
theme(legend.position = "none") +
plot_theme
ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
scale_fill_discrete(guide="none") +
plot_theme
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
scale_fill_discrete(guide = "none") +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
plot1
plot1 + theme(legend.position = "none")
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
finalplot1 <- plot1 + theme(legend.position = "none")
ggarrange(finalplot1, plot2,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Summary of Final Germination Count") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
plot1
ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Cold Stratification Effects by Population") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Cold Stratification Effects by Population") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
finalplot1 <- plot1 + theme(legend.position = "none")
finalplot1
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Effect of Cold Stratification on Germination",
subtitle = "by Population") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
finalplot1 <- plot1 + theme(legend.position = "none")
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Effect of Cold Stratification on Germination",
subtitle = "by Population") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
finalplot1 <- plot1 + theme(legend.position = "none")
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
trtmean <- sum %>% group_by(StratDays) %>% summarise(mean = mean(totalgerm),
n = n(),
se = std.error(totalgerm))
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
labs(title = "Effect of Cold Stratification on Germination") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
# Make a plot theme
plot_theme <- theme_minimal() +
#GOOGLE: "R ggplot how to move axis title label away from plot"
theme(axis.title.y = element_text(margin = margin(t = 0, r = 10, b = 0, l = 0))) + # Move the axis title away from the plot
theme(axis.title.x = element_text(margin = margin(t = 10, r = 0, b = 0, l = 0))) +
#GOOGLE: "R ggplot remove grid lines"
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black")) +
#GOOGEL: "R ggplot increase text size"
theme(axis.text = element_text(size = 14)) +
theme(axis.title = element_text(size = 16)) +
theme(plot.title = element_text(size = 20)) +
theme(plot.subtitle = element_text(size = 16))
panel_plot <- ggarrange(plot2, finalplot1,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
### Save plot (hi-res)
png(file="my_panel_plot.png", width=6000, height=3000, units="px", res=600)
panel_plot
dev.off()
panel_plot
trtmean <- sum %>% group_by(StratDays) %>% summarise(mean = mean(totalgerm),
n = n(),
se = std.error(totalgerm))
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
labs(title = "Effect of Cold Stratification\n on Germination") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
ggarrange(plot2, finalplot1,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
panel_plot <- ggarrange(plot2, finalplot1,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
panel_plot
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Population-Level Effect") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
finalplot1 <- plot1 + theme(legend.position = "none")
#error bars make plot nearly un-readable
# geom_errorbar(aes(ymin=mean_germ-se, ymax=mean_germ+se, width=0.2),
#               position=position_jitter(width=0.5))
#A different way to label lines
# geom_label_repel(data = subset(summary, StratDays == 81), aes(label = PopID),
#                 nudge_x = 1,
#                 na.rm = TRUE)
trtmean <- sum %>% group_by(StratDays) %>% summarise(mean = mean(totalgerm),
n = n(),
se = std.error(totalgerm))
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
labs(title = "Main Effect of Treatment") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
panel_plot <- ggarrange(plot2, finalplot1,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
panel_cols(
panel_plot
panel_plot
getwd()
setwd("~/gitTest")
png(file="my_panel_plot.png", width=6000, height=3000, units="px", res=600)
panel_plot
dev.off()
panel_plot
png(file="my_panel_plot.png", width=6000, height=3000, units="px", res=600)
panel_plot
dev.off()
setwd("~/gitTest/")
png(file="my_panel_plot.png", width=6000, height=3000, units="px", res=600)
panel_plot
dev.off()
View(indivsNoZeros)
write.csv(indivsNoZeros, file = "~/Google Drive/My Drive/2021F_VIP/clean/germ_data_no_zeros.csv", row.names = F)
test <- read.csv(file = "~/Google Drive/My Drive/2021F_VIP/clean/germ_data_no_zeros.csv", header = T)
View(test)
### Save plot (hi-res)
png(file="my_panel_plot.png", width=6000, height=3000, units="px", res=600)
library(tidyverse)
library(plotrix)
library(ggpubr)
library(ggrepel)
data <- read.csv(file = "~/Google Drive/My Drive/2021F_VIP/clean/germ_data_no_zeros.csv", header = T)
#### summarize data to get means for plotting
sum <- data %>% group_by(PopID, IndivNum, StratDays) %>% summarise(totalgerm= sum(binom))
summary <- sum %>% group_by(PopID, StratDays) %>%
summarise(mean_germ = mean(totalgerm),
n = n(),
se = std.error(totalgerm))
summary$Abbr <- abbreviate(summary$PopID, minlength = 3)
####Plot theme from Derek####
plot_theme <- theme_minimal() +
#GOOGLE: "R ggplot how to move axis title label away from plot"
theme(axis.title.y = element_text(margin = margin(t = 0, r = 10, b = 0, l = 0))) + # Move the axis title away from the plot
theme(axis.title.x = element_text(margin = margin(t = 10, r = 0, b = 0, l = 0))) +
#GOOGLE: "R ggplot remove grid lines"
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(), axis.line = element_line(colour = "black")) +
#GOOGEL: "R ggplot increase text size"
theme(axis.text = element_text(size = 14)) +
theme(axis.title = element_text(size = 16)) +
theme(plot.title = element_text(size = 20)) +
theme(plot.subtitle = element_text(size = 16))
#### plot1 has mean germination by population for each stratificaiton treatment
plot1 <- ggplot(summary, aes(x = factor(StratDays), y = mean_germ)) +
geom_line(aes(colour = PopID, group = PopID)) +
#theme(legend.position = "none") +
geom_text(data = subset(summary, StratDays == 81), aes(label = Abbr, colour = PopID,   x = 5.2, y = mean_germ), show.legend = F, nudge_y = c(0, -0.3, 0, 0, -0.3, 0, 0,   0.3, 0, 0, 0, 0)) +
geom_text(data = subset(summary, StratDays == 28 & PopID %in% c("KingHill", "HoweCrk")), aes(label = Abbr, colour = PopID,   x = 4.2, y = mean_germ), show.legend = F, nudge_y = c(0.3, 0.1)) +
labs(title = "Population-Level Effect") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
finalplot1 <- plot1 + theme(legend.position = "none")
trtmean <- sum %>% group_by(StratDays) %>% summarise(mean = mean(totalgerm),
n = n(),
se = std.error(totalgerm))
####Plot 2 is the overall effect fo the stratification treatment without population effect
plot2 <- ggplot(trtmean, aes(x=factor(StratDays), y=mean)) +
coord_cartesian(xlim = NULL, ylim = c(0, 10)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin=mean-se, ymax=mean+se, width=0.2)) +
labs(title = "Main Effect of Treatment") +
xlab("Cold Stratification (Days)") +
ylab("Mean Seeds Germinated (count)") +
plot_theme
####make a panel plot of plots 1 and 2
panel_plot <- ggarrange(plot2, finalplot1,
ncol = 2,
nrow = 1,
widths = 1,
heights = 1,
common.legend = FALSE)
### Save plot (hi-res)
png(file="my_panel_plot.png", width=6000, height=3000, units="px", res=600)
panel_plot
dev.off()
getwd
getwd()
